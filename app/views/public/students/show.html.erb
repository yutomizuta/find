<div class="container px-5 px-sm-0">
  <div class="row mt-4">
    <div class="col-md-3">
      <%= render 'public/students/profile', student: @student %>
    </div>
    <div class="col-md-8 offset-md-1">
      <table class="table table-bordered">
        <thead>
          <th></th>
          <th>月</th>
          <th>火</th>
          <th>水</th>
          <th>木</th>
          <th>金</th>
          <th>土</th>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>2</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>3</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>4</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>5</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </tbody>
      </table>

      <h5>オンライン一覧</h5>
      <div class="d-flex flex-wrap">
        <% @taken_courses.where(day_of_week: 'オンライン').each do |online| %>
          <div class="card text-white bg-info mr-2"><%= online.name %></div>
        <% end %>
      </div>
      
      <% if current_student == @student %>
        <%= form_with model:@taken_course do |f| %>
            <div class="d-flex mt-4">
              <%= f.label :科目名 %>
              <%= f.text_field :name %>
              <%= f.select :day_of_week, TakenCourse.day_of_weeks.keys, {prompt: "〇曜日"} %>
              <%= f.select :period, TakenCourse.periods.keys, {prompt: "〇限"} %>
              <%= f.submit "追加", class: 'btn btn-outline-success' %>
            </div>
        <% end %>
        <div class="d-flex flex-wrap mt-3">
          <% @taken_courses.each do |taken_course| %>
            <div class="card bg-success text-white ml-2 mb-2" style="width: 8rem;">
              <h5 class="card-title"><%= taken_course.name %></h5>
              <ul class="list-group list-group-flush text-dark">
                <li class="list-group-item"><%= taken_course.day_of_week %></li>
                <li class="list-group-item"><%= taken_course.period %></li>
                <li class="list-group-item">
                  <%= link_to taken_course_path(taken_course), method: :delete, class: "btn btn-outline-danger btn-block" do %>
                    <i class="far fa-trash-alt"></i>
                  <% end %>
                </li>
              </ul>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
